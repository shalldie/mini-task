!function e(r,n,t){function o(i,c){if(!n[i]){if(!r[i]){var a="function"==typeof require&&require;if(!c&&a)return a(i,!0);if(u)return u(i,!0);var f=new Error("Cannot find module '"+i+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[i]={exports:{}};r[i][0].call(l.exports,function(e){var n=r[i][1][e];return o(n?n:e)},l,l.exports,e,r,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(e,r,n){var t=e("./core");t.all=function(e){function r(){var e=t.makeArray(arguments);e.length<=1?u.push(e[0]):u.push(e),u.length>=o&&i.resolve.apply(i,u)}function n(){var e=t.makeArray(arguments);i.reject.apply(i,e)}e=e||[];var o=e.length,u=[],i=t.deferred(),c=i.promise();return 0===o?(i.resolve(),c):(t.each(e,function(e,t){t.then(r)["catch"](n)}),c)},r.exports=t.all},{"./core":8}],2:[function(e,r,n){r.exports=function(){e("./series"),e("./parallel"),e("./parallelLimit"),e("./waterfall")}},{"./parallel":3,"./parallelLimit":4,"./series":5,"./waterfall":6}],3:[function(e,r,n){var t=e("./../core");t.parallel=function(e,r){var n=e.map(function(e){var r=t.deferred();try{e(function(){r.resolve.apply(r,arguments)})}catch(n){r.reject(n)}return r.promise()});t.all(n).then(function(){var e=t.makeArray(arguments);r(null,e)})["catch"](function(e){r(e)})},r.exports=t.parallel},{"./../core":8}],4:[function(e,r,n){var t=e("./../core");t.parallelLimit=function(e,r,n){function o(){return 0==u&&i>=c}var u=0,i=0,c=e.length,a=new Array(c),f=t.deferred(),l=[],s=!1,p=function(){p=!0},h=function(){for(;i<c&&u<r;i++)u++,l[i].dequeue();if(o())return f.resolve(),void p()};l=e.map(function(e,r){var n=t.queue();return n.queue(function(r){s||e(r)}),n.queue(function(e){if(!s){var n=t.makeArray(arguments).slice(1);n.length<=1&&(n=n[0]),a[r]=n,u--,e()}}),n["catch"](function(e){f.reject(e)}),n.queue(function(e){h(),e()}),n}),f.then(function(){n.call(null,a)}),f["catch"](function(e){n(e)}),h()},r.exports=t.parallelLimit},{"./../core":8}],5:[function(e,r,n){var t=e("./../core");t.series=function(e,r){var n="array"===t.type(e),o=[],u=[],i=t.queue();t.each(e,function(e,r){o.push(r)});var c=function(e){var r=t.makeArray(arguments);r.shift(),r.length<=1?u.push(r[0]):u.push(r),e()};t.each(o,function(e,r){i.queue(r).queue(c)}),i.queue(function(o){if(n)r(null,u);else{var i={},c=0;t.each(e,function(e){i[e]=u[c++]}),r(null,i)}o()})["catch"](function(e){r(e)}),i.dequeue()},r.exports=t.series},{"./../core":8}],6:[function(e,r,n){var t=e("./../core");t.waterfall=function(e,r){var n=t.queue();t.deferred();t.each(e,function(){n.queue(this)}),n.queue(function(e){var n=t.makeArray(arguments).slice(1);n.unshift(null),r.apply(null,n),e()}),n["catch"](function(e){r(e)}),n.dequeue()},r.exports=t.waterfall},{"./../core":8}],7:[function(e,r,n){var t=e("./core");t.callbacks=function(){function e(e){return l&&2==c&&e.apply(null,l),o()?this:(u.push(e),this)}function r(){if(o())return this;l&&(l=t.makeArray(arguments)),c=1;for(var e=0,r=u.length;e<r&&(u[e].apply(null,arguments)!==!1||!a);e++);return c=2,f&&n(),this}function n(){return u=void 0,this}function o(){return!u}var u=[],i=(arguments[0]||"").split(" "),c=0,a=~i.indexOf("stopOnFalse"),f=~i.indexOf("once"),l=~i.indexOf("memory")?[]:null;return{add:e,fire:r,disable:n,disabled:o}},r.exports=t.callbacks},{"./core":8}],8:[function(e,r,n){var t={ver:"1.0.0"};r.exports=t},{}],9:[function(e,r,n){var t=e("./core");e("./callbacks");t.deferred=function(){var e=[["resolve","then",t.callbacks("once memory"),"resolved"],["reject","catch",t.callbacks("once memory"),"rejected"]],r="pending",n={state:function(){return r},promise:function(){var n=this,o={state:function(){return r}};return t.each(e,function(e,r){o[r[1]]=n[r[1]]}),o}};return t.each(e,function(e,o){n[o[0]]=function(){if("pending"==r)return o[2].fire.apply(o[2],t.makeArray(arguments)),r=o[3],this},n[o[1]]=function(e){return o[2].add(e),this}}),n},r.exports=t.deferred},{"./callbacks":7,"./core":8}],10:[function(e,r,n){var t=e("./../core");r.exports=function(){"function"==typeof define&&define.amd&&define("task",[],function(){return t})}},{"./../core":8}],11:[function(e,r,n){var t=e("./amd"),o=e("./global");r.exports=function(){t(),o()}},{"./amd":10,"./global":12}],12:[function(e,r,n){var t=e("./../core");r.exports=function(){if("undefined"!=typeof window){var e=window.task;window.task=t,t.noConflict=function(){return window.task=e,t}}}},{"./../core":8}],13:[function(e,r,n){Array.prototype.indexOf=Array.prototype.indexOf||function(e){for(var r=-1,n=0,t=this.length;n<t;n++)if(this[n]==e){r=n;break}return r},String.prototype.format=function(){var e=arguments;return this.replace(/\{(\d+?)\}/g,function(r,n){return e[+n]})},Array.prototype.forEach=Array.prototype.forEach||function(e){e=e||function(){};for(var r=0,n=this.length;r<n;r++)e.call(this[r],this[r],r)},Array.prototype.some=Array.prototype.some||function(e){e=e||function(){return!0};for(var r=0,n=this.length;r<n;r++)if(e.call(this[r],this[r],r))return!0;return!1},Array.prototype.map=Array.prototype.map||function(e){e=e||function(){};for(var r=[],n=0,t=this.length;n<t;n++)r.push(e(this[n],n));return r},r.exports={}},{}],14:[function(e,r,n){var t=e("./core");t.queue=function(){function e(){return s}function r(){s=!0}function n(){if(!e()){if(l=1,!a.length)return void(l=2);f=t.makeArray(arguments),f.unshift(n),a.shift()()}}function o(e){return a.push(function(){try{e.apply(null,f)}catch(n){r(),p.fire(n)}}),2==l&&n(),this}function u(e){return o(function(){setTimeout(function(){n()},e)}),this}function i(e){return o(function(){e(),n()}),this}function c(){if(!l)return n.apply([],arguments),this}var a=[],f=[],l=0,s=!1,p=t.callbacks("once memory");return{queue:o,will:i,delay:u,dequeue:c,"catch":function(e){p.add(e)},disable:r,disabled:e}},r.exports=t.queue},{"./core":8}],15:[function(e,r,n){var t=e("./core");e("./extensions"),e("./tool"),e("./callbacks"),e("./queue"),e("./deferred"),e("./all"),e("./async/async")(),e("./exports/exports")(),r.exports=t},{"./all":1,"./async/async":2,"./callbacks":7,"./core":8,"./deferred":9,"./exports/exports":11,"./extensions":13,"./queue":14,"./tool":16}],16:[function(e,r,n){var t=e("./core"),o={type:function(e){return null===e?e+"":Object.prototype.toString.call(e).toLowerCase().match(/\s(\S+?)\]/)[1]},each:function(e,r){var n=0,t=e.length,o=this.arrayLike(e);if(o)for(;n<t;n++)r.call(e[n],n,e[n]);else for(n in e)r.call(e[n],n,e[n])},arrayLike:function(e){return"number"==this.type(e.length)&&"function"==this.type(e.splice)},makeArray:function(e){try{return[].slice.call(e)}catch(r){for(var n=[],t=0,o=e.length;t<o;t++)n.push(e[t]);return n}}};for(var u in o)t[u]=o[u];r.exports=t.tool},{"./core":8}]},{},[15]);